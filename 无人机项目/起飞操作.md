
## 飞行端启动流程

1. mobaxterm ssh连接上飞行端， 执行启动服务
```
./start_uav.sh 

systemctl list-units --type=service | grep uav
systemctl stop uav_car.service
systemctl start uav_car.service 
systemctl restart uav_car.service 

cd ~/Desktop/UAV_CAR__Test/UAV_CAR/src/uav_car_launch/launch

sudo ./start_uav.sh
# 密码为 orangepi
# 需要摇晃飞机，使得t265置信度通过

source /home/orangepi/Desktop/UAV_CAR__Test/UAV_CAR/install/setup.bash
```
## 地面站启动，进入yhc文件夹，执行启动脚本
```
./mystart.sh  # 或者原本的脚本
# 启动地面站服务
# 先选择禁飞区，
# 然后显示路径
# 最后一键起飞
```

- [ ] 飞机朝向：飞控板箭头指向，就是正方向。

- [ ] 舵机端在前方

- [ ] 前方x-， 左侧 y-

- [ ] t265 初始化，需要摇飞机
```c
#include <stdio.h>

/**

 * 将网格坐标转换为实际显示坐标
 *
 * 坐标转换规则：
 * - 输入坐标 (x, y) 范围: x∈[0,6], y∈[0,8]
 * - 输出坐标 (new_x, new_y) 范围: new_x[25,325], new_y[25,425]
 * - (0,0) -> (325, 425)
 * - (6,8) -> (25, 25)
 * ---
 * 地图 (x,y)
 * ----------------------------------
 * (0,0)                         (0,8)
 *
 *
 * (6,0)                         (6,8)起飞点
 * -----------------------------------
 * @param x 网格x坐标 (行索引)
 * @param y 网格y坐标 (列索引)
 * @param new_x 转换后的给飞控x坐标
 * @param new_y 转换后的给飞控y坐标
 */

void convert_coordinates(int x, int y, int *new_x, int *new_y)

{

    *new_x = 325 - x * 50;

    *new_y = 425 - y * 50;

}

 
 ```
 
 

---

1.  舵机复位，飞机完成初始化！

2. 摇飞机，265初始化 ，

3. 启动 QT服务端，查看视频流

4. 规划轨迹，显示轨迹

5. yhc : 起飞指令发送
