## 公共部分-srv类型添加
服务数据类型：**ControlService.srv**
```
string req   # send to service  # 发送给服务器的内容
---
string echo  # return from service # 服务器返回的内容
```



##  服务端修改：

1. navigator.py

```python
第46行左右：
self.takeoff_service = self.create_service(Empty, "takeoff_service", self.takeoff_callback)

---改之后---
from uav_car_interfaces.srv import ControlService

self.takeoff_service = self.create_service(ControlService, "takeoff_service", self.takeoff_callback)

```



## 地面端修改：

1. ros2_ground_station.py
```python
def create_services(self):
	"""创建服务和客户端"""
	# 起飞服务客户端地面站 # 起飞服务客户端地面站# 起飞服务客户端地面站 
	self.takeoff_client = self.create_client(Empty, 'takeoff_service')

	self.get_logger().info('服务客户端创建完成')

    def call_takeoff_service(self):

        """调用起飞服务"""

        if not self.takeoff_client.wait_for_service(timeout_sec=1.0):

            self.get_logger().error('起飞服务不可用')

            return False

        request = Empty.Request()

        future = self.takeoff_client.call_async(request)

        # 这里可以添加回调处理

        self.get_logger().info('起飞服务请求已发送')

        return True
---改之后---
from uav_car_interfaces.srv import ControlService
self.takeoff_service = self.create_service(ControlService, "takeoff_service", self.takeoff_callback)





```